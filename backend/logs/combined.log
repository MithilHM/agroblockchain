{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"❌ Error connecting to Supabase: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 09:06:13"}
{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"❌ Error connecting to Supabase: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 09:06:25"}
{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"❌ Error connecting to Supabase: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 09:06:37"}
{"level":"info","message":"🔧 Creating database tables...","service":"supply-chain-backend","timestamp":"2025-09-22 09:07:59"}
{"level":"info","message":"✅ Users table already exists or is accessible","service":"supply-chain-backend","timestamp":"2025-09-22 09:08:01"}
{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"❌ Error connecting to Supabase: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 09:09:02"}
{"level":"warn","message":"⚠️  Continuing in development mode despite database issues...","service":"supply-chain-backend","timestamp":"2025-09-22 09:09:02"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 09:09:02"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 09:09:02"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 09:09:02"}
{"level":"warn","message":"Received SIGTERM, shutting down gracefully...","service":"supply-chain-backend","timestamp":"2025-09-22 09:09:07"}
{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"❌ Error connecting to Supabase: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 09:09:15"}
{"level":"warn","message":"⚠️  Continuing in development mode despite database issues...","service":"supply-chain-backend","timestamp":"2025-09-22 09:09:15"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 09:09:15"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 09:09:15"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 09:09:15"}
{"level":"warn","message":"Received SIGTERM, shutting down gracefully...","service":"supply-chain-backend","timestamp":"2025-09-22 09:15:18"}
{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"❌ Error connecting to Supabase: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 09:16:44"}
{"level":"warn","message":"⚠️  Continuing in development mode despite database issues...","service":"supply-chain-backend","timestamp":"2025-09-22 09:16:44"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 09:16:44"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 09:16:44"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 09:16:44"}
{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"❌ Error connecting to Supabase: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 10:12:59"}
{"level":"warn","message":"⚠️  Continuing in development mode despite database issues...","service":"supply-chain-backend","timestamp":"2025-09-22 10:12:59"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 10:12:59"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 10:12:59"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 10:12:59"}
{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"❌ Error connecting to Supabase: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 11:11:53"}
{"level":"warn","message":"⚠️  Continuing in development mode despite database issues...","service":"supply-chain-backend","timestamp":"2025-09-22 11:11:53"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 11:11:53"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 11:11:53"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 11:11:53"}
{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"❌ Error connecting to Supabase: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 17:28:25"}
{"level":"warn","message":"⚠️  Continuing in development mode despite database issues...","service":"supply-chain-backend","timestamp":"2025-09-22 17:28:25"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 17:28:25"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 17:28:25"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 17:28:25"}
{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"❌ Error connecting to Supabase: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 17:32:39"}
{"level":"warn","message":"⚠️  Continuing in development mode despite database issues...","service":"supply-chain-backend","timestamp":"2025-09-22 17:32:39"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 17:32:39"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 17:32:39"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 17:32:39"}
{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"User registration error: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 17:38:22"}
{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"❌ Error connecting to Supabase: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 17:41:07"}
{"level":"warn","message":"⚠️  Continuing in development mode despite database issues...","service":"supply-chain-backend","timestamp":"2025-09-22 17:41:07"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 17:41:07"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 17:41:07"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 17:41:07"}
{"code":"PGRST205","details":null,"hint":null,"level":"error","message":"❌ Error connecting to Supabase: Could not find the table 'public.users' in the schema cache","service":"supply-chain-backend","timestamp":"2025-09-22 17:53:12"}
{"level":"warn","message":"⚠️  Continuing in development mode despite database issues...","service":"supply-chain-backend","timestamp":"2025-09-22 17:53:12"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 17:53:12"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 17:53:12"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 17:53:12"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 18:36:51"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 18:36:52"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 18:36:52"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 18:36:52"}
{"level":"info","message":"User registered: farmer@test.com with role: farmer","service":"supply-chain-backend","timestamp":"2025-09-22 18:37:14"}
{"level":"info","message":"User logged in: farmer@test.com","service":"supply-chain-backend","timestamp":"2025-09-22 18:37:36"}
{"level":"info","message":"User registered: test@example.com with role: farmer","service":"supply-chain-backend","timestamp":"2025-09-22 18:55:57"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:14"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:14"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:14"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:14"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:15"}
{"level":"info","message":"User registered: test2@example.com with role: distributor","service":"supply-chain-backend","timestamp":"2025-09-22 19:08:22"}
{"level":"info","message":"User registered: test@t.com with role: farmer","service":"supply-chain-backend","timestamp":"2025-09-22 19:13:08"}
{"level":"info","message":"User registered: test@gmailll.com with role: farmer","service":"supply-chain-backend","timestamp":"2025-09-22 19:22:49"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 14:06:01"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:06:01"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:06:01"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 14:06:01"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 14:08:06"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:08:06"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:08:06"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 14:08:06"}
{"level":"warn","message":"Received SIGTERM, shutting down gracefully...","service":"supply-chain-backend","timestamp":"2025-09-22 14:13:53"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 14:14:22"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:14:22"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:14:22"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 14:14:22"}
{"level":"warn","message":"Received SIGTERM, shutting down gracefully...","service":"supply-chain-backend","timestamp":"2025-09-22 14:14:25"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 14:14:34"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:14:34"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:14:34"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 14:14:34"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 14:23:43"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:23:43"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:23:43"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 14:23:43"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 14:23:54"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:23:54"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:23:54"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 14:23:54"}
{"level":"info","message":"User registered: farmer@agrichain.com with role: farmer","service":"supply-chain-backend","timestamp":"2025-09-22 14:26:42"}
{"level":"info","message":"User logged in: farmer@agrichain.com","service":"supply-chain-backend","timestamp":"2025-09-22 14:29:12"}
{"level":"info","message":"Batch registered: AGRI-1758551357492-0LHLY25K7 by user 87ee1c84-a1c2-4498-ba24-0025f55a4996","service":"supply-chain-backend","timestamp":"2025-09-22 14:29:19"}
{"level":"error","message":"Authentication failed: Invalid token.","service":"supply-chain-backend","stack":"Error: Authentication failed: Invalid token.\n    at new AppError (/app/backend/src/middlewares/errorHandler.ts:19:11)\n    at authenticate (/app/backend/src/middlewares/auth.ts:57:19)\n    at Layer.handleRequest (/app/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/app/backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/backend/node_modules/router/lib/route.js:117:3)\n    at handle (/app/backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/backend/node_modules/router/lib/layer.js:152:17)\n    at /app/backend/node_modules/router/index.js:295:15\n    at processParams (/app/backend/node_modules/router/index.js:582:12)\n    at next (/app/backend/node_modules/router/index.js:291:5)","statusCode":401,"timestamp":"2025-09-22 14:29:22"}
{"level":"error","message":"Authentication failed: Invalid token.","service":"supply-chain-backend","stack":"Error: Authentication failed: Invalid token.\n    at new AppError (/app/backend/src/middlewares/errorHandler.ts:19:11)\n    at authenticate (/app/backend/src/middlewares/auth.ts:57:19)\n    at Layer.handleRequest (/app/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/app/backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/backend/node_modules/router/lib/route.js:117:3)\n    at handle (/app/backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/backend/node_modules/router/lib/layer.js:152:17)\n    at /app/backend/node_modules/router/index.js:295:15\n    at processParams (/app/backend/node_modules/router/index.js:582:12)\n    at next (/app/backend/node_modules/router/index.js:291:5)","statusCode":401,"timestamp":"2025-09-22 14:29:22"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 14:47:29"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:47:29"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:47:29"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 14:47:29"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 14:49:35"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:49:35"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:49:35"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 14:49:35"}
{"level":"warn","message":"Received SIGTERM, shutting down gracefully...","service":"supply-chain-backend","timestamp":"2025-09-22 14:49:58"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 14:53:13"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:53:13"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:53:13"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 14:53:13"}
{"level":"info","message":"✅ Supabase connection established successfully","service":"supply-chain-backend","timestamp":"2025-09-22 14:55:19"}
{"level":"info","message":"✅ Server is running on port 8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:55:19"}
{"level":"info","message":"🔗 Local: http://localhost:8001","service":"supply-chain-backend","timestamp":"2025-09-22 14:55:19"}
{"level":"info","message":"🌐 Environment: development","service":"supply-chain-backend","timestamp":"2025-09-22 14:55:19"}
{"level":"warn","message":"Received SIGTERM, shutting down gracefully...","service":"supply-chain-backend","timestamp":"2025-09-22 14:55:33"}
